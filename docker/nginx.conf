server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # 核心优化：精确匹配 favicon.ico，优先读取文件（优先级最高）
    location = /favicon.ico {
        # 直接指定文件路径，避免路径解析歧义
        root /usr/share/nginx/html;
        # 尝试读取文件，不存在再返回 204（避免无文件时仍 404）
        try_files $uri =204;
        access_log off;
        log_not_found off;
    }

    # 核心：所有请求转发到 index.html（解决 SPA 刷新 404）
    location / {
        try_files $uri $uri/ /index.html;
    }
}
